---
title: js实现数组去重的六种方法总结
tags:
  - JavaScript
  - 数组去重
categories: 算法整理
date: 2018-09-03 17:40:27
---

今天看<a href="https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/0014351219769203e3fbe1ed611475db3d439393add8997000" target="_blank">廖雪峰的JavaScript教程</a>，看到了利用filter进行数组去重，就总结了六种方法进行数组去重。
## 方法一
使用数组的indexof方法，如果element的index不相等则说明element相同，则过滤掉
```js
Array.prototype.distinct1 = function () {
    var arr = this;
    return arr.filter(function (element, index, self) {
        return self.indexOf(element) === index;
    })
}
```
## 方法二
Set结构中key不能重复
```js
Array.prototype.distinct2 = function () {
    var arr = this;
    var result = [];
    var set = new Set();
    for (var x of arr) {
        set.add(x);
    }
    for (var x of set) {
        result.push(x);
    }
    return result;
}
```
## 方法三
遍历两个数组，将原数组和新数组比较，如果原数组的值已存在则不加入新数组中
```js
Array.prototype.distinct3 = function () {
    var arr = this;
    var result = [];
    for (var i of arr) {
        var flag = 0;
        for (var j of result) {
            if (i === j) {
                flag = 1;
            }
        }
        if (flag === 0) {
            result.push(i);
        }
    }
    return result;
}
```
## 方法四
先将数组进行排序，然后遍历，将每个值与后一个值比较，如果不同则存入新数组
```js
Array.prototype.distinct4 = function () {
    var arr = this.sort();
    var result = [];
    for (let i = 0; i < arr.length; i++) {
        if (arr[i] != arr[i + 1])
            result.push(arr[i]);
    }
    return result;
}
```
## 方法五
根据对象的属性，如果该属性不存在，则把元素加入新数组
```js
Array.prototype.distinct5 = function () {
    var arr = this;
    var result = [];
    var obj = {};
    for (var x of arr) {
        if (!obj[x]) {
            obj[x] = x;
            result.push(x);
        }
    }
    return result;
}
```
## 方法六
双重循环比较值，如果相同，使用splice删去后一个相同的值
```js
Array.prototype.distinct6 = function () {
    var arr = this;
    for (let i = 0; i < arr.length; i++) {
        for (let j = i + 1; j < arr.length; j++) {
            if (arr[i] === arr[j]) {
                arr.splice(j, 1);
                j--;
            }
        }
    }
    return arr;
}
```
经过测试，以上六种方法均可以实现数组去重。